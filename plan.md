# Flight Manager Lite
The flight manager lite application is a single container analysis tool designed to be run locally on a user's machine or on a lower power compute device such as a Raspberry Pi. The tool allows the user to manage model rocket payloads and flights. After a flight, a user can upload flight data using a CSV file and then the application will automatically render charts for you.

# Architecture

## Overview
This lite version of the application is not designed to scale, hence, the entire application, frontend, api and database are all located in one container.

### Frontend
The frontend is a NextJS, React web application written in typescript and using the Material UI design system. The frontend should allow the user to create multiple payloads and multiple flights within a payload. The frontend also allows the user to upload a csv file that will be used for the analysis.

### API
The api is written in python using FastAPI. The api backs the frontend. It is also capable of invoking the chart rending scripts located in the chart_directory. The API uses SQLAlchemy as its ORM. 

### Database
The database is SQLite, running within the same container using a persistent volume.

### Middleware
An NGINX server will be used to host the static content of the React app as well as the static chart files generated by the app. It will also proxy the FastAPI server.

# Entities
1. Payloads
The web app allows the user to create payloads. This app allows for the management of multiple payloads. Payloads are custom airborne pieces of hardware that are incorporated into a model rocket that collect the flight data. Payloads must always have a name and may optionally have an owner and default weight. (in grams)

2. Flights
Each payload may have many flights. When a user creates a flight, they are asked to enter the flight date, time and optionally the location and custom payload weight. If a custom payload weight is entered for a flight, it should override the default weight entered for the payload.

3. CSV files
CSV flies containing flight data are uploaded as part of the a flight entity. These csv files are stored persistent on the disk and are located in a flight folder created with a unique id when the flight is created. The CSV files and their parent folder are deleted when a flight is deleted. Every CSV file that is uploaded for a flight should be tracked by the database.

4. Charts
Charts are created and displayed on a per flight basis and should also be stored in the unique flight folder. Every chart created should be tracked by the database. Charts are generated by scripts located in a chart_scripts folder which can be invoked by the API. Charts can be generated using a combination of numpy, pandas, scipy and plotly.
